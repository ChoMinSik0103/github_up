<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì™ë‹¥ì™ë‹¥ ë¬¸ì˜í•´ ì£¼ì„¸ìš”.</title>

    <link rel="stylesheet" href="comm_page.css">
</head>
<body>
    <div id="title_part">
        <input type="text" id="title_input" value="ğŸ©ºë¬¸ì˜í•´ ì£¼ì„¸ìš”" />
        <button id="home_button">í™ˆìœ¼ë¡œ</button>
    </div>

    <div id="body_part"></div>

    <div id="message_part">
        <input type="text" id="text_input" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">
        <button id="voice_button">ìŒì„±</button>
        <button id="send_button">ì „ì†¡</button>
    </div>

    <script>
        const $input = document.getElementById('text_input');
        const $bodyPart = document.getElementById('body_part');
        const $userInput = document.getElementById('userInput');

        const $homeBtn = document.getElementById('home_button');
        const $voiceBtn = document.getElementById('voice_button');
        const $sendBtn = document.getElementById('send_button');

        $sendBtn.addEventListener('click', sendMessage);
        // í‚¤ëˆ„ë¦„ ê°ì§€ : keydown, í‚¤ë•œ ê°ì§€ : keyup
        $input.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') sendMessage();
        });

        function sendMessage() {
            const message = $input.value.trim();
            if (message === '') return;

            appendMessage(message, 'request');
            $input.value = '';

            setTimeout(() => {
                const botReply = `í˜„ì¬ëŠ” ìš”ì²­ê°’ì„ ê·¸ëŒ€ë¡œ return : "${message}".`;
                appendMessage(botReply, 'reply');
            }, 500);
        }

        function appendMessage(text, sender) {
            const $messageDiv = document.createElement('div');
            $messageDiv.className = `message ${sender}`;
            $messageDiv.textContent = text;
            $bodyPart.appendChild($messageDiv);
            // ì±„íŒ…ì°½ì´ ë§¨ ì•„ë˜ë¡œ ìœ ì§€ë˜ê²Œ 
            // scrollTop : í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì„¤ì •í•˜ê±°ë‚˜ ê°€ì ¸ì˜¤ëŠ” ì†ì„± (ìœ„ì—ì„œ ì–¼ë§ˆë‚˜ ìŠ¤í¬ë¡¤ëëŠ”ì§€)
            // scrollHeight : ìŠ¤í¬ë¡¤ì´ ê°€ëŠ¥í•œ ì „ì²´ ë†’ì´ (ë‚´ìš© ì „ì²´ ë†’ì´)
            $bodyPart.scrollTop = $bodyPart.scrollHeight;
        }

        // ìŒì„± ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        $voiceBtn.addEventListener('click', function() {
            alert('ì„œë¹„ìŠ¤ ì¤€ë¹„ì¤‘');
        });

        $homeBtn.addEventListener('click', function() {
            window.location.href = 'main_page.html';
        });


    </script>

</body>
</html>